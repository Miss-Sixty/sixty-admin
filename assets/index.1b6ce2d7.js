var $=Object.defineProperty,A=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var y=(l,e,o)=>e in l?$(l,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[e]=o,v=(l,e)=>{for(var o in e||(e={}))K.call(e,o)&&y(l,o,e[o]);if(x)for(var o of x(e))j.call(e,o)&&y(l,o,e[o]);return l},h=(l,e)=>A(l,H(e));import{y as q,g as F,D as k,r,Q as G,o as m,i as J,a,w as _,u as i,M as L,m as C,K as b,c as w,aQ as O,l as P,B as V,I as N,V as W,R as X}from"./vendor.4b0db8f4.js";import{a as Y,e as Z,i as ee}from"./index.fda62872.js";import{_ as te,a as oe}from"./index.87f8ca46.js";const ne=V("\u53D6\u6D88"),ae=V("\u786E\u8BA4\u63D0\u4EA4"),ie={setup(l){const e=oe(),o=q(),B=F(),t=k({loading:!1,pageTitle:"",type:"add",id:null}),n=k({title:"",content:[]}),T=async()=>{try{if(!n.title)return N.warning("\u6807\u9898\u4E0D\u80FD\u4E3A\u7A7A\uFF01");if(!n.content)return N.warning("\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A\uFF01");t.type==="add"?f(Y,n):f(Z,h(v({},n),{id:t.id}),"\u4FEE\u6539")}catch(d){console.log(d)}};async function f(d,s={},c="\u65B0\u589E"){try{t.loading=!0;const p=await d(s);W.success({title:"\u63D0\u793A",message:p.message}),setTimeout(async()=>{await X.confirm(`${c}\u6210\u529F\uFF0C\u662F\u5426\u9000\u51FA${c}\u9875\uFF1F`,"\u63D0\u793A",{type:"warning"}),B.push({name:"Notice"})},500)}finally{t.loading=!1}}const I=()=>{t.loading=!0,ee({id:t.id}).then(d=>{console.log(d);const{title:s,content:c}=d.data;n.title=s,n.content=c}).finally(()=>t.loading=!1)};return(()=>{const{params:d,name:s,meta:c}=o;if(t.pageTitle=c.title,s==="NoticeAdd")return t.type="add";t.type="edit",t.id=d.id,I()})(),(d,s)=>{const c=r("el-button"),p=r("refresh-button"),M=r("page-header"),g=r("router-link"),D=r("text-editor-toolsbar"),E=r("el-affix"),S=r("el-divider"),z=r("text-editor"),R=r("fixed-action-bar"),Q=r("page-main"),U=G("loading");return m(),J("div",null,[a(g,{custom:"",to:{name:"Notice"}},{default:_(({navigate:u})=>[a(M,{title:i(t).pageTitle,onClick:u},{extra:_(()=>[a(p,{content:"\u6700\u5927\u5316\u663E\u793A"},{default:_(()=>[a(c,{icon:i(L),size:"small",circle:"",onClick:i(e).fullScreen},null,8,["icon","onClick"])]),_:1})]),_:2},1032,["title","onClick"])]),_:1}),C("div",null,[a(E,{offset:i(e).maximize?0:50,"z-index":1},{default:_(()=>[a(D,{editorId:"editor"})]),_:1},8,["offset"]),b((m(),w(Q,{style:{"max-width":"1000px",margin:"30px auto 0 auto"},padding:"30px 20px 20px"},{default:_(()=>[b(C("input",{"onUpdate:modelValue":s[0]||(s[0]=u=>i(n).title=u),autofocus:"autofocus",placeholder:"\u8BF7\u8F93\u5165\u6807\u9898",class:"title"},null,512),[[O,i(n).title]]),a(S),i(t).type==="add"||i(n).content.length?(m(),w(z,{key:0,modelValue:i(n).content,"onUpdate:modelValue":s[1]||(s[1]=u=>i(n).content=u),editorId:"editor",placeholder:"\u8BF7\u8F93\u901A\u77E5\u516C\u544A\u5185\u5BB9"},null,8,["modelValue"])):P("",!0),a(R,{style:{"text-align":"center"}},{default:_(()=>[a(g,{custom:"",to:{name:"Notice"}},{default:_(({navigate:u})=>[a(c,{onClick:u},{default:_(()=>[ne]),_:2},1032,["onClick"])]),_:1}),a(c,{type:"primary",onClick:T},{default:_(()=>[ae]),_:1})]),_:1})]),_:1})),[[U,i(t).loading]])])])}}};var _e=te(ie,[["__scopeId","data-v-8d56d4c0"]]);export{_e as default};
