import{d as v,l as z}from"./index.18a7b154.js";import{aK as P,r as l,P as S,o as D,h as L,a as e,w as n,u as r,az as N,J as E,y as p,t as j,Q as B,U}from"./vendor.f6a7b20b.js";import"./index.257b4271.js";const V=p(" \u65B0 \u589E "),A=p(" \u7F16\u8F91 "),J=p(" \u5220\u9664 "),R={setup(K){const t=P({pageSize:10,total:0,currentPage:1,tableLoading:!1,list:[]}),u=async(i,s)=>{try{await B.confirm("\u6B64\u64CD\u4F5C\u5C06\u6C38\u4E45\u5220\u9664\u8BE5\u6570\u636E, \u662F\u5426\u7EE7\u7EED?","\u63D0\u793A",{type:"warning"}),i.disabled=!0;const o=await v({id:i.id});t.list.splice(s,1),t.total-=1,U({title:"\u63D0\u793A",message:o.message,type:"success"}),i.disabled=!1}catch(o){console.log(o),i.disabled=!1}},g=()=>{t.tableLoading=!0,z().then(i=>{console.log(i);const{total:s,current_page:o,list:c}=i.data;t.total=s,t.currentPage=o,t.list=c}).finally(()=>t.tableLoading=!1)};return g(),(i,s)=>{const o=l("el-button"),c=l("router-link"),m=l("refresh-button"),b=l("el-row"),d=l("el-table-column"),f=l("el-tag"),h=l("el-table"),x=l("pagination"),y=l("fixed-action-bar"),w=l("page-main"),k=S("loading");return D(),L("div",null,[e(w,{title:"\u901A\u77E5\u516C\u544A\u5217\u8868",style:{margin:"20px"},"header-border":!1,padding:"0 20px 20px"},{extra:n(()=>[e(b,{align:"middle"},{default:n(()=>[e(c,{custom:"",to:{name:"NoticeAdd"}},{default:n(({navigate:a})=>[e(o,{size:"small",icon:r(N),type:"primary",onClick:a,style:{"margin-right":"16px"}},{default:n(()=>[V]),_:2},1032,["icon","onClick"])]),_:1}),e(m,{content:"\u5237\u65B0\u8868\u683C\u6570\u636E",onClick:g})]),_:1})]),default:n(()=>[E(e(h,{data:r(t).list},{default:n(()=>[e(d,{type:"index",label:"\u5E8F\u53F7",align:"center"}),e(d,{prop:"title",label:"\u516C\u544A\u6807\u9898","min-width":"120",align:"center"}),e(d,{prop:"type",label:"\u516C\u544A\u7C7B\u578B","min-width":"120",align:"center"}),e(d,{prop:"aname",label:"\u53D1\u5E03\u4EBA","min-width":"120",align:"center"}),e(d,{prop:"date",label:"\u53D1\u5E03\u65F6\u95F4","min-width":"150",align:"center"}),e(d,{prop:"text",label:"\u516C\u544A\u5185\u5BB9","min-width":"280","show-overflow-tooltip":""}),e(d,{prop:"status",label:"\u662F\u5426\u53D1\u5E03","min-width":"120",align:"center"},{default:n(({row:a})=>[e(f,{type:a.status?"success":"warning"},{default:n(()=>[p(j(a.status?"\u5DF2\u53D1\u5E03":"\u672A\u53D1\u5E03"),1)]),_:2},1032,["type"])]),_:1}),e(d,{prop:"address",label:"\u64CD\u4F5C",align:"center","min-width":"180",fixed:"right"},{default:n(({row:a,$index:C})=>[e(c,{custom:"",to:{name:"NoticeEdit",params:{id:a.id}}},{default:n(({navigate:_})=>[e(o,{disabled:a.disabled,type:"warning",size:"small",onClick:_},{default:n(()=>[A]),_:2},1032,["disabled","onClick"])]),_:2},1032,["to"]),e(o,{loading:a.disabled,type:"danger",size:"small",onClick:_=>u(a,C)},{default:n(()=>[J]),_:2},1032,["loading","onClick"])]),_:1})]),_:1},8,["data"]),[[k,r(t).tableLoading]]),e(y,null,{default:n(()=>[e(x,{pageSize:r(t).pageSize,"onUpdate:pageSize":s[0]||(s[0]=a=>r(t).pageSize=a),currentPage:r(t).currentPage,"onUpdate:currentPage":s[1]||(s[1]=a=>r(t).currentPage=a),total:r(t).total,onOnChange:g},null,8,["pageSize","currentPage","total"])]),_:1})]),_:1})])}}};export{R as default};
