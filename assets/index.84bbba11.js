import{d as z,l as v}from"./type.e3af6a62.js";import{aB as P,r as o,P as w,o as S,c as L,w as n,a as e,J as N,u as c,y as _,Q as B,U as D}from"./vendor.444fda8e.js";import"./index.55ccc005.js";const j=_(" \u65B0 \u589E "),E=_(" \u7F16\u8F91 "),T=_(" \u5220\u9664 "),J={setup(U){const t=P({pageSize:10,total:0,currentPage:1,tableLoading:!1,list:[]}),u=async(s,i)=>{try{await B.confirm("\u6B64\u64CD\u4F5C\u5C06\u6C38\u4E45\u5220\u9664\u8BE5\u6570\u636E, \u662F\u5426\u7EE7\u7EED?","\u63D0\u793A",{type:"warning"}),s.disabled=!0;const l=await z({id:s.id});t.list.splice(i,1),D.success({title:"\u63D0\u793A",message:l.message})}catch(l){console.log(l)}finally{s.disabled=!1}},p=()=>{t.tableLoading=!0,v().then(s=>{console.log(s);const{total:i,current_page:l,list:r}=s.data;t.total=i,t.currentPage=l,t.list=r}).finally(()=>t.tableLoading=!1)};return p(),(s,i)=>{const l=o("el-button"),r=o("router-link"),m=o("refresh-button"),f=o("el-row"),d=o("el-table-column"),b=o("el-table"),y=o("pagination"),h=o("fixed-action-bar"),x=o("page-main"),k=w("loading");return S(),L(x,{title:"\u7C7B\u578B\u5217\u8868",style:{margin:"20px"},"header-border":!1,padding:"0 20px 20px"},{extra:n(()=>[e(f,{align:"middle"},{default:n(()=>[e(r,{custom:"",to:{name:"NoticeTypeAdd"}},{default:n(({navigate:a})=>[e(l,{size:"small",icon:"el-icon-plus",type:"primary",onClick:a,style:{"margin-right":"16px"}},{default:n(()=>[j]),_:2},1032,["onClick"])]),_:1}),e(m,{content:"\u5237\u65B0\u8868\u683C\u6570\u636E",onClick:p})]),_:1})]),default:n(()=>[N(e(b,{data:c(t).list},{default:n(()=>[e(d,{type:"index",label:"\u5E8F\u53F7",align:"center"}),e(d,{prop:"title",label:"\u7C7B\u578B","min-width":"120",align:"center"}),e(d,{prop:"created_at",label:"\u65B0\u589E\u65F6\u95F4","min-width":"120",align:"center"}),e(d,{prop:"address",label:"\u64CD\u4F5C",align:"center","min-width":"160",fixed:"right"},{default:n(({row:a,$index:C})=>[e(r,{custom:"",to:{name:"NoticeTypeEdit",params:{id:a.id},query:a}},{default:n(({navigate:g})=>[e(l,{disabled:a.disabled,type:"warning",size:"small",onClick:g},{default:n(()=>[E]),_:2},1032,["disabled","onClick"])]),_:2},1032,["to"]),e(l,{loading:a.disabled,type:"danger",size:"small",onClick:g=>u(a,C)},{default:n(()=>[T]),_:2},1032,["loading","onClick"])]),_:1})]),_:1},8,["data"]),[[k,c(t).tableLoading]]),e(h,null,{default:n(()=>[e(y,{pageSize:c(t).pageSize,"onUpdate:pageSize":i[0]||(i[0]=a=>c(t).pageSize=a),currentPage:c(t).currentPage,"onUpdate:currentPage":i[1]||(i[1]=a=>c(t).currentPage=a),total:c(t).total,onOnChange:p},null,8,["pageSize","currentPage","total"])]),_:1})]),_:1})}}};export{J as default};
