var U=Object.defineProperty,$=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var x=(s,e,o)=>e in s?U(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,y=(s,e)=>{for(var o in e||(e={}))H.call(e,o)&&x(s,o,e[o]);if(g)for(var o of g(e))K.call(e,o)&&x(s,o,e[o]);return s},v=(s,e)=>$(s,A(e));import{y as Q,g as q,D as b,r as d,Q as F,o as h,i as G,a as n,w as _,u as i,M as J,m as k,K as C,aN as L,c as O,l as P,B as N,I as w,V as W,R as X}from"./vendor.1e4d5cc4.js";import{a as Y,e as Z,i as ee}from"./index.2abbff8b.js";import{_ as te,a as oe}from"./index.58d2bb44.js";const ne=N("\u53D6\u6D88"),ae=N("\u786E\u8BA4\u63D0\u4EA4"),ie={setup(s){const e=oe(),o=Q(),V=q(),t=b({loading:!1,pageTitle:"",type:"add",id:null}),a=b({title:"",content:[]}),B=async()=>{try{if(!a.title)return w.warning("\u6807\u9898\u4E0D\u80FD\u4E3A\u7A7A\uFF01");if(!a.content)return w.warning("\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A\uFF01");t.type==="add"?m(Y,a):m(Z,v(y({},a),{id:t.id}),"\u4FEE\u6539")}catch(r){console.log(r)}};async function m(r,l={},c="\u65B0\u589E"){try{t.loading=!0;const p=await r(l);W.success({title:"\u63D0\u793A",message:p.message}),setTimeout(async()=>{await X.confirm(`${c}\u6210\u529F\uFF0C\u662F\u5426\u9000\u51FA${c}\u9875\uFF1F`,"\u63D0\u793A",{type:"warning"}),V.push({name:"Notice"})},500)}finally{t.loading=!1}}const T=()=>{t.loading=!0,ee({id:t.id}).then(r=>{console.log(r);const{title:l,content:c}=r.data;a.title=l,a.content=c}).finally(()=>t.loading=!1)};return(()=>{const{params:r,name:l,meta:c}=o;if(t.pageTitle=c.title,l==="NoticeAdd")return t.type="add";t.type="edit",t.id=r.id,T()})(),(r,l)=>{const c=d("el-button"),p=d("refresh-button"),I=d("page-header"),f=d("router-link"),M=d("text-editor-toolsbar"),D=d("el-affix"),E=d("el-divider"),S=d("text-editor"),j=d("fixed-action-bar"),z=d("page-main"),R=F("loading");return h(),G("div",null,[n(f,{custom:"",to:{name:"Notice"}},{default:_(({navigate:u})=>[n(I,{title:i(t).pageTitle,onClick:u},{extra:_(()=>[n(p,{content:"\u6700\u5927\u5316\u663E\u793A"},{default:_(()=>[n(c,{icon:i(J),size:"small",circle:"",onClick:i(e).fullScreen},null,8,["icon","onClick"])]),_:1})]),_:2},1032,["title","onClick"])]),_:1}),k("div",null,[n(D,{offset:i(e).maximize?0:50,"z-index":1},{default:_(()=>[n(M,{editorId:"editor"})]),_:1},8,["offset"]),C(n(z,{style:{"max-width":"1000px",margin:"30px auto 0 auto"},padding:"30px 20px 20px"},{default:_(()=>[C(k("input",{"onUpdate:modelValue":l[0]||(l[0]=u=>i(a).title=u),autofocus:"autofocus",placeholder:"\u8BF7\u8F93\u5165\u6807\u9898",class:"title"},null,512),[[L,i(a).title]]),n(E),i(t).type==="add"||i(a).content.length?(h(),O(S,{key:0,modelValue:i(a).content,"onUpdate:modelValue":l[1]||(l[1]=u=>i(a).content=u),editorId:"editor",placeholder:"\u8BF7\u8F93\u901A\u77E5\u516C\u544A\u5185\u5BB9"},null,8,["modelValue"])):P("",!0),n(j,{style:{"text-align":"center"}},{default:_(()=>[n(f,{custom:"",to:{name:"Notice"}},{default:_(({navigate:u})=>[n(c,{onClick:u},{default:_(()=>[ne]),_:2},1032,["onClick"])]),_:1}),n(c,{type:"primary",onClick:B},{default:_(()=>[ae]),_:1})]),_:1})]),_:1},512),[[R,i(t).loading]])])])}}};var _e=te(ie,[["__scopeId","data-v-8d56d4c0"]]);export{_e as default};
