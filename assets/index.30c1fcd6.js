var A=Object.defineProperty,G=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var y=(l,e,o)=>e in l?A(l,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[e]=o,v=(l,e)=>{for(var o in e||(e={}))K.call(e,o)&&y(l,o,e[o]);if(x)for(var o of x(e))X.call(e,o)&&y(l,o,e[o]);return l},h=(l,e)=>G(l,H(e));import{y as Z,g as j,G as k,r,S as q,o as m,i as F,a,w as _,m as C,u as i,N,c as b,E as J,aV as L,l as O,C as V,K as w,Z as P,X as Q}from"./vendor.59f8e9b6.js";import{a as W,e as Y,i as ee}from"./index.83b04105.js";import{_ as te,a as oe}from"./index.0a2472ce.js";const ne=V("\u53D6\u6D88"),ae=V("\u786E\u8BA4\u63D0\u4EA4"),ie={setup(l){const e=oe(),o=Z(),T=j(),t=k({loading:!1,pageTitle:"",type:"add",id:null}),n=k({title:"",content:[]}),B=async()=>{try{if(!n.title)return w.warning("\u6807\u9898\u4E0D\u80FD\u4E3A\u7A7A\uFF01");if(!n.content)return w.warning("\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A\uFF01");t.type==="add"?f(W,n):f(Y,h(v({},n),{id:t.id}),"\u4FEE\u6539")}catch(d){console.log(d)}};async function f(d,s={},c="\u65B0\u589E"){try{t.loading=!0;const p=await d(s);P.success({title:"\u63D0\u793A",message:p.message}),setTimeout(async()=>{await Q.confirm(`${c}\u6210\u529F\uFF0C\u662F\u5426\u9000\u51FA${c}\u9875\uFF1F`,"\u63D0\u793A",{type:"warning"}),T.push({name:"Notice"})},500)}finally{t.loading=!1}}const E=()=>{t.loading=!0,ee({id:t.id}).then(d=>{console.log(d);const{title:s,content:c}=d.data;n.title=s,n.content=c}).finally(()=>t.loading=!1)};return(()=>{const{params:d,name:s,meta:c}=o;if(t.pageTitle=c.title,s==="NoticeAdd")return t.type="add";t.type="edit",t.id=d.id,E()})(),(d,s)=>{const c=r("el-button"),p=r("refresh-button"),S=r("page-header"),g=r("router-link"),I=r("text-editor-toolsbar"),z=r("el-affix"),D=r("el-divider"),M=r("text-editor"),R=r("fixed-action-bar"),U=r("page-main"),$=q("loading");return m(),F("div",null,[a(g,{custom:"",to:{name:"Notice"}},{default:_(({navigate:u})=>[a(S,{title:i(t).pageTitle,onClick:u},{extra:_(()=>[a(p,{content:"\u6700\u5927\u5316\u663E\u793A"},{default:_(()=>[a(c,{icon:i(J),size:"small",circle:"",onClick:i(e).fullScreen},null,8,["icon","onClick"])]),_:1})]),_:2},1032,["title","onClick"])]),_:1}),C("div",null,[a(z,{offset:i(e).maximize?0:50,"z-index":1},{default:_(()=>[a(I,{editorId:"editor"})]),_:1},8,["offset"]),N((m(),b(U,{style:{"max-width":"1000px",margin:"30px auto 0 auto"},padding:"30px 20px 20px"},{default:_(()=>[N(C("input",{"onUpdate:modelValue":s[0]||(s[0]=u=>i(n).title=u),autofocus:"autofocus",placeholder:"\u8BF7\u8F93\u5165\u6807\u9898",class:"title"},null,512),[[L,i(n).title]]),a(D),i(t).type==="add"||i(n).content.length?(m(),b(M,{key:0,modelValue:i(n).content,"onUpdate:modelValue":s[1]||(s[1]=u=>i(n).content=u),editorId:"editor",placeholder:"\u8BF7\u8F93\u901A\u77E5\u516C\u544A\u5185\u5BB9"},null,8,["modelValue"])):O("",!0),a(R,{style:{"text-align":"center"}},{default:_(()=>[a(g,{custom:"",to:{name:"Notice"}},{default:_(({navigate:u})=>[a(c,{onClick:u},{default:_(()=>[ne]),_:2},1032,["onClick"])]),_:1}),a(c,{type:"primary",onClick:B},{default:_(()=>[ae]),_:1})]),_:1})]),_:1})),[[$,i(t).loading]])])])}}};var _e=te(ie,[["__scopeId","data-v-a0de30ce"]]);export{_e as default};
